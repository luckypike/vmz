import React, { useState, useEffect } from 'react'
import VisibilitySensor from 'react-visibility-sensor'

import styles from './Worker2.module.css'

export default function Worker4 () {

  const [visible, setVisible] = useState(false)

  const onVisibilityChange = isVisible => {
    if (isVisible) {
      setVisible(true)
    }
  }

  useEffect(() => {
    if (visible) {
      document.getElementById("animat").beginElement()
    }
  }, [visible])

  return(
    <>
      <VisibilitySensor delayedCall onChange={onVisibilityChange}>
          <div className={styles.worker}>
            <svg width="142" height="352" viewBox="0 0 142 352" fill="none" xmlns="http://www.w3.org/2000/svg">
              <linearGradient id="qw" x1="0.5" y1="1" x2="0.5" y2="0">
                <stop offset="100%" stopOpacity="1" stopColor="#E7422E">
                  <animate id="animat" attributeName="offset" values="0;1" dur="0.5s" />
                </stop>
                <stop offset="0%" stopOpacity="0" stopColor="#E7422E"/>
              </linearGradient>

              {visible &&
                <path d="M140.226 84.9883C135.774 76.058 130.343 67.6505 124.032 59.9212C119.325 54.4606 114.806 49.353 110.169 43.9394C108.921 42.4566 107.58 42.6214 106.403 41.0914C104.638 38.7377 104.779 36.1486 103.508 33.8184C102.052 31.2345 100.129 28.9438 97.8354 27.0633C96.2406 26.443 94.5297 26.1779 92.822 26.2865C92.3042 26.2865 92.1159 27.0633 91.5981 27.0633C90.5389 27.0633 89.4797 26.3336 88.397 26.2865C87.1915 26.3533 85.9943 26.5266 84.8193 26.8044C84.8193 26.1218 84.9841 25.3451 84.584 24.7331C84.1838 24.1211 83.1247 24.4506 82.6775 24.38C80.818 24.0034 80.8651 18.4487 80.5826 17.3189C80.1187 13.9242 78.9567 10.6625 77.1698 7.73922C70.8853 -1.22846 59.7287 -1.98165 53.3972 3.31422C46.5478 8.79839 48.525 15.0828 45.4181 21.9086C44.9944 22.8501 42.876 22.8736 42.7113 23.6504C42.4288 25.0155 45.4181 27.2986 46.5714 27.3693C46.7126 28.7109 45.9829 28.3107 46.0536 29.4876C46.3447 31.4502 46.7614 33.392 47.301 35.3013C47.5129 36.2192 47.301 37.2549 47.7718 38.0787C48.2425 38.9025 48.9251 38.62 49.5135 38.9025C49.9372 40.809 50.5492 42.7155 50.8081 44.6456C50.7267 46.2975 50.4823 47.9374 50.0784 49.5413C48.1837 51.8419 45.7613 53.6506 43.0173 54.8136C37.3213 57.4969 31.6723 57.1674 25.741 58.7444C23.3157 59.0743 21.0019 59.9692 18.9858 61.357C15.6883 65.1267 12.7565 69.2013 10.2299 73.5257C5.35773 82.3757 5.66372 87.4833 0.603215 95.9096C1.49763 97.0158 4.11026 98.0986 5.00467 99.2048C4.20441 104.501 1.21518 110.62 0.297231 115.963C-1.70343 138.653 6.84058 150.798 12.6072 168.145C12.6015 172.521 12.3185 176.892 11.7599 181.232C13.1015 184.715 14.1136 189.729 17.2676 192.389C17.7148 192.765 18.3267 191.635 18.8446 191.894C19.7625 192.342 19.9979 193.754 20.9158 194.248C21.8338 194.742 22.5399 193.871 23.2695 194.083C23.9992 194.295 23.9992 195.048 24.5406 195.237C28.8243 196.719 28.5183 195.237 28.4007 196.225C26.6795 207.53 27.2558 219.066 30.0953 230.142C28.8949 235.697 27.7416 241.228 26.4706 246.76L29.7894 248.595C28.0005 258.01 25.3408 267.425 24.3993 277.146C24.3993 278.064 26.0705 276.652 26.9178 277.146C27.8358 290.303 28.8949 303.767 28.9185 316.853C28.9185 320.972 26.9414 325.468 27.8593 329.587C28.3536 331.941 30.0483 331.14 31.131 333.235C27.8122 337.707 22.6576 342.65 25.6468 349.335C26.9649 352.253 34.0967 352.089 36.3327 351.924C40.5577 351.205 44.4512 349.18 47.4658 346.134C48.0778 345.333 46.7126 344.768 47.1363 343.78C47.3716 343.262 48.3837 343.992 48.9486 343.78C51.3024 342.909 51.7731 341.426 52.8794 339.355C52.8794 337.119 52.7146 334.859 52.644 332.623C53.97 330.372 55.0963 328.01 56.0098 325.562C58.693 316.147 59.5404 304.873 60.4113 294.964C61.2837 286.668 61.7315 278.333 61.7529 269.991C61.7529 263.706 61.4704 255.868 61.3292 249.513C61.3292 244.241 63.2122 237.745 63.8477 232.378C64.7421 224.799 65.0952 217.126 65.7307 209.524C66.9311 220.398 69.2377 231.413 70.1321 242.24C70.5793 247.56 68.155 254.009 68.155 259.234C69.6849 264.577 69.2377 272.039 69.12 277.429C68.9082 286.843 69.2612 307.18 73.0743 315.441C74.5338 319.481 75.6056 323.65 76.2753 327.892C74.5336 331.023 75.3103 332.6 76.699 336.483C77.4051 338.39 83.1011 339.284 84.8664 339.849L86.5376 338.555C93.5987 342.956 99.8361 345.733 107.886 346.087C110.827 346.355 113.793 346.092 116.642 345.31C117.513 345.004 117.56 343.662 117.654 342.697C118.383 335.895 110.593 335.636 106.662 332.576C104.13 330.716 101.94 328.43 100.189 325.821C98.9887 323.962 101.578 321.678 100.919 319.584C100.919 319.584 103.743 313.346 101.884 309.722C99.0358 304.12 100.119 293.081 100.213 283.007C100.213 273.357 103.061 264.177 103.178 254.574C103.024 248.986 102.362 243.424 101.201 237.957C100.966 236.286 104.544 238.686 104.567 237.039C104.508 228.238 103.641 219.461 101.978 210.818C103.508 210.042 102.331 209.241 103.884 208.465C102.284 205.499 100.73 194.483 100.519 190.812C99.6949 174.524 100.519 164.921 93.7635 150.351C92.1865 146.938 95.5052 140.936 94.7991 138.277C97.1528 135.546 94.0695 123.425 95.67 122.436C96.7763 121.753 95.3875 104.289 94.752 99.9815C94.2578 96.6628 105.744 99.1813 107.344 99.4637C108.051 99.4637 111.393 96.8511 112.052 96.8746C121.961 97.3689 127.751 98.7341 137.001 94.3326C137.884 93.9994 138.683 93.4758 139.34 92.7991C139.998 92.1223 140.498 91.3091 140.806 90.4171C141.114 89.5251 141.222 88.5763 141.121 87.638C141.021 86.6998 140.715 85.7951 140.226 84.9883ZM28.5419 150.045C28.3771 153.129 28.2359 156.212 28.0711 159.319C27.5769 164.874 29.1303 171.087 26.5883 175.983C25.6468 177.772 23.4108 172.759 21.8809 171.276C19.5271 156.824 21.8809 140.018 15.4552 122.365C16.2319 119.564 21.5749 112.739 23.3872 109.797C23.8098 113.602 24.478 117.376 25.3879 121.094C27.1297 126.767 31.4134 131.969 32.0489 137.759C32.4726 142.066 29.6717 145.926 28.5419 150.045ZM108.945 74.2083C107.909 73.6905 107.933 71.478 106.827 71.3838C95.6465 70.4659 79.5941 64.3227 78.7232 65.5466C75.0805 63.9141 72.1243 61.0578 70.3675 57.4733C69.8968 57.4733 69.8026 53.0483 71.4031 50.4122C72.4788 50.002 73.4379 49.3351 74.1968 48.4695C74.9557 47.6039 75.4915 46.5659 75.7575 45.4458C76.0164 44.269 77.0991 40.1735 77.2404 38.9731C77.5463 38.9731 77.6876 38.7848 77.97 38.7142C78.2724 37.4974 78.5004 36.2633 78.6526 35.0188C79.0129 33.477 79.1634 31.8935 79.0998 30.3114H80.465C81.0299 31.4177 80.9122 35.1836 81.4771 36.2899C85.7608 40.7855 89.1267 45.4223 93.9047 46.1755C102.755 47.5642 113.417 68.1828 115.7 75.597C113.359 75.8494 110.997 75.3639 108.945 74.2083Z" fill="url(#qw)" />
              }
            </svg>
          </div>
      </VisibilitySensor>
    </>
  )
}
